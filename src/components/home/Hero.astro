---
import { getConfigurationCollection } from "../../lib/utils";

const { data: config } = await getConfigurationCollection();
const title = config.hero.title ?? "";
const hasLeadingUnderscore = title.startsWith("_");
const restTitle = hasLeadingUnderscore ? title.slice(1) : title;
---

<div class="flex flex-col items-center sm:flex-row gap-8">
  <img
    src={config.hero.image}
    alt={`${config.hero.title} Profile Image`}
    class="rounded-[28%] w-40 h-40 object-cover mb-4 z-0"  />
  <div>
    <h1
      class="text-3xl sm:text-4xl font-display font-semibold opsz text-center sm:text-left"
    >
      {hasLeadingUnderscore && (
        <span aria-hidden="true" class="inline-block mr-2 blink-cursor">_</span>
      )}
      {restTitle}
    </h1>
    <h2
      class="text-center text-xl sm:text-2xl font-mono font-medium sm:text-left"
    >
      <p set:html={config.hero.subtitle}/>
    </h2>
  </div>
</div>

<style>
  @keyframes blink-cursor {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }
  .blink-cursor {
    animation: blink-cursor 1s steps(1, end) infinite;
  }
</style>
